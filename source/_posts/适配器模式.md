---
title: 适配器模式
date: 2017-08-30 16:01:27
tags: [设计模式,Java]
---

适配器是为了解决目标接口和适配类不兼容而引入的。
<!-- more -->

- 定义：
设配器模式将用一个类的接口，转换成客户端期望的另外一个接口。使得原本由于接口不兼容而不能一起工作的那些类可以在一起工作。

- 分类
**采用组合的方式(对象适配器模式)**

特点：把“被适配者”作为一个对象组合到适配器中，以修改目标接口包装“被适配者”

**采用继承的方式(类适配器模式)**

特点：通过多重继承不兼容接口，实现对目标接口的匹配，单一的为某一个类而实现适配。单继承

- 作用
1. 透明：通过适配器，客户端可以调用同一接口，因而对客户端来说是透明的，这样做个更简单，更直接，更紧凑。
2. 重用：复用现存的类，解决了现存类和复用环境要求不一致的问题。
3. 低耦合：将目标类和适配类解耦，通过引入一个适配器类重用现有的适配类，而无需修改原有代码（遵循开闭原则：对于扩展是开放的，对于修改是关闭的。)。

举例

	```java
	/**
	 * 目标接口，三孔插座接口
	 */
	public interface ThreeHoleIF {
		// 使用三孔插座充电
		public void powerWithThree();
	}
	```

-

```java
/**
 * 需要适配的类，二孔插座类
 */
public class TwoHole {
	// 使用二孔插座充电
	public void powerWithTwo() {
		System.out.println("使用二孔插座充电");
	}
}
```

## 组合的方式 ##

	```java
	/**
	 *组合的方式
	 *二孔转三孔的插座适配器
	 */
	public class TwoToThreeAdapter implements ThreeHoleIF {
		private  TwoHole two;	
		public TwoToThreeAdapter(TwoHole two) {
			this.two=two;
		}	
		@Override
		public void powerWithThree() {
			System.out.println("组合方式：二孔转成三孔");
			two.powerWithTwo();
		}
	}
	```

## 继承的方式 ##

	```java
	/**
	 * 继承的方式 
	 * 二孔转三孔的插座适配器
	 */
	public class TwoToThreeAdapterExtends extends TwoHole implements ThreeHoleIF {
		@Override
		public void powerWithThree() {
			System.out.println("继承方式：二孔转成三孔");
			this.powerWithTwo();
		}
	}
	```

-

	```java
	/**
	 *手机类
	 */
	public class MobilePhone {
		
		private ThreeHoleIF hole;
		public MobilePhone(ThreeHoleIF hole) {
			this.hole=hole;
		}
		//使用插座充电
		public void charge() {
			hole.powerWithThree();
		}
	}
	```

-

	```java
	/**
	 * 测试类
	 */
	public class Test {
		public static void main(String[] args) {
			System.out.println("组合方式");
			TwoHole twoHole=new TwoHole();
			ThreeHoleIF threeHole=new TwoToThreeAdapter(twoHole);
			MobilePhone mb=new MobilePhone(threeHole);
			mb.charge();
			
			System.out.println("继承方式");
			ThreeHoleIF threeHole1=new TwoToThreeAdapterExtends();
			MobilePhone mb1=new MobilePhone(threeHole1);
			mb1.charge();
		}
	}
	```
